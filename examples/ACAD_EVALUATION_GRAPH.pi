import unknown.

/* ACAD_EVALUATION_GRAPH field packing problem.
   examples/unknown generated example, needs picat-lang.org.
   Usage: picat [-g go2] examples/ACAD_EVALUATION_GRAPH.pi
*/
def(0, Data) =>
  println("ACAD_EVALUATION_GRAPH: 0x1E9E4C (49) test/test-data/2004/CascoUrbano.dxf:"),
  Class="ACAD_EVALUATION_GRAPH",
  Dxf="test/test-data/2004/CascoUrbano.dxf",
  Version=2004,
  Offsets=[26, 0, 77, 10, 0], % hdloff, strsize, commonsize, bitsize, hdlsize
  S="1010101010000000010000110001111010011110010010111",
  % name: [1] bits, [2] value, [3] poslist, [4] fieldname, [5] dxfcode
  Fields = [
     new_struct('H330', ["01000011000111101001111001001011", '4.3.1E9E4B', [], "reactors[0]", 330])
    ,new_struct('H330', ["01000011000111101001111001001011", '4.3.1E9E4B', [], "ownerhandle", 330])
    %new_struct('_H330', ["1100000100000001", 'c.1.1', [], "ownerhandle", 330])
    ,new_struct('BL96', ["10", '0', [], "has_graph", 96])
    ,new_struct('BL97', ["10", '0', [], "unknown1", 97])
  ],
  Data = [S,Fields,Class,Dxf,Version,Offsets],
  go(Data).

def(1, Data) =>
  println("ACAD_EVALUATION_GRAPH: 0x2E3 (225) test/test-data/example_2007.dxf:"),
  Class="ACAD_EVALUATION_GRAPH",
  Dxf="test/test-data/example_2007.dxf",
  Version=2007,
  Offsets=[209, 0, 61, 27, 34], % hdloff, strsize, commonsize, bitsize, hdlsize
  S="010000000101000000010100000001100100100000010000000100111111111111111111111111111111110011111111111111111111111111111111001111111111111111111111111111111100111111111111111111111111111111111000110000000110010000000101110001011",
  % name: [1] bits, [2] value, [3] poslist, [4] fieldname, [5] dxfcode
  Fields = [
     new_struct('H330', ["01100000", '6.0.0', [], "ownerhandle", 330])
    ,new_struct('BL96', ["0100000001", '1', [], "has_graph", 96])
    ,new_struct('BL97', ["0100000001", '1', [], "unknown1", 97])
    ,new_struct('BL91', ["10", '0', [], "nodeid", 91])
    ,new_struct('BL93', ["0100100000", '32', [], "edge_flags", 93])
    ,new_struct('BL95', ["0100000001", '1', [], "num_evalexpr", 95])
    ,new_struct('H360', ["001100100000001011100010", '3.2.2E2', [], "evalexpr", 360])
    ,new_struct('BL92', ["0011111111111111111111111111111111", '-1', [], "node_edge1", 92])
    ,new_struct('BL92', ["0011111111111111111111111111111111", '-1', [], "node_edge2", 92])
    ,new_struct('BL92', ["0011111111111111111111111111111111", '-1', [], "node_edge3", 92])
    ,new_struct('BL92', ["0011111111111111111111111111111111", '-1', [], "node_edge4", 92])
  ],
  Data = [S,Fields,Class,Dxf,Version,Offsets],
  go(Data).

def(2, Data) =>
  println("ACAD_EVALUATION_GRAPH: 0x2E3 (225) test/test-data/example_2010.dxf:"),
  Class="ACAD_EVALUATION_GRAPH",
  Dxf="test/test-data/example_2010.dxf",
  Version=2010,
  Offsets=[201, 0, 29, 23, 34], % hdloff, strsize, commonsize, bitsize, hdlsize
  S="010000000101000000010100000001100100100000010000000100111111111111111111111111111111110011111111111111111111111111111111001111111111111111111111111111111100111111111111111111111111111111111000110000000110010000000101110001011",
  % name: [1] bits, [2] value, [3] poslist, [4] fieldname, [5] dxfcode
  Fields = [
     new_struct('H330', ["01100000", '6.0.0', [], "ownerhandle", 330])
    ,new_struct('BL96', ["0100000001", '1', [], "has_graph", 96])
    ,new_struct('BL97', ["0100000001", '1', [], "unknown1", 97])
    ,new_struct('BL91', ["10", '0', [], "nodeid", 91])
    ,new_struct('BL93', ["0100100000", '32', [], "edge_flags", 93])
    ,new_struct('BL95', ["0100000001", '1', [], "num_evalexpr", 95])
    ,new_struct('H360', ["001100100000001011100010", '3.2.2E2', [], "evalexpr", 360])
    ,new_struct('BL92', ["0011111111111111111111111111111111", '-1', [], "node_edge1", 92])
    ,new_struct('BL92', ["0011111111111111111111111111111111", '-1', [], "node_edge2", 92])
    ,new_struct('BL92', ["0011111111111111111111111111111111", '-1', [], "node_edge3", 92])
    ,new_struct('BL92', ["0011111111111111111111111111111111", '-1', [], "node_edge4", 92])
  ],
  Data = [S,Fields,Class,Dxf,Version,Offsets],
  go(Data).

def(3, Data) =>
  println("ACAD_EVALUATION_GRAPH: 0x2E3 (224) test/test-data/example_2013.dxf:"),
  Class="ACAD_EVALUATION_GRAPH",
  Dxf="test/test-data/example_2013.dxf",
  Version=2013,
  Offsets=[201, 0, 30, 23, 33], % hdloff, strsize, commonsize, bitsize, hdlsize
  S="01000000010100000001010000000110010010000001000000010011111111111111111111111111111111001111111111111111111111111111111100111111111111111111111111111111110011111111111111111111111111111111100011000000011001000000010111000101",
  % name: [1] bits, [2] value, [3] poslist, [4] fieldname, [5] dxfcode
  Fields = [
     new_struct('H330', ["01100000", '6.0.0', [], "ownerhandle", 330])
    ,new_struct('BL96', ["0100000001", '1', [], "has_graph", 96])
    ,new_struct('BL97', ["0100000001", '1', [], "unknown1", 97])
    ,new_struct('BL91', ["10", '0', [], "nodeid", 91])
    ,new_struct('BL93', ["0100100000", '32', [], "edge_flags", 93])
    ,new_struct('BL95', ["0100000001", '1', [], "num_evalexpr", 95])
    ,new_struct('H360', ["001100100000001011100010", '3.2.2E2', [], "evalexpr", 360])
    ,new_struct('BL92', ["0011111111111111111111111111111111", '-1', [], "node_edge1", 92])
    ,new_struct('BL92', ["0011111111111111111111111111111111", '-1', [], "node_edge2", 92])
    ,new_struct('BL92', ["0011111111111111111111111111111111", '-1', [], "node_edge3", 92])
    ,new_struct('BL92', ["0011111111111111111111111111111111", '-1', [], "node_edge4", 92])
  ],
  Data = [S,Fields,Class,Dxf,Version,Offsets],
  go(Data).


% summary: 534/723=73.9%

go0 ?=> def(0,Data).
go1 ?=> def(1,Data).
go2 ?=> def(2,Data).
go3 ?=> def(3,Data).

main => go0,
        go1,
        go2,
        go3.
